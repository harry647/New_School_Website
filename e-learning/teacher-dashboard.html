<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Teacher Dashboard | E-Learning Hub</title>
  <meta name="description" content="Manage resources, assignments, and quizzes." />
  <meta name="keywords" content="teacher dashboard, e-learning, Bar Union Secondary" />
  <meta name="author" content="Bar Union Secondary School" />

  <!-- Open Graph -->
  <meta property="og:title" content="Teacher Dashboard | E-Learning Hub" />
  <meta property="og:description" content="Manage resources, assignments, and quizzes." />
  <meta property="og:image" content="/assets/images/common/og-image.jpg" />
  <meta property="og:type" content="website" />

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico" />

  <!-- Preconnect -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" />
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap + Font Awesome -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">

  <!-- Custom Styles -->
  <link rel="stylesheet" href="/css/e-learning/e-learning.css">
</head>
<body class="page-learning-portal">
  <div w3-include-html="/includes/el-header.html"></div>

  <!-- Main Content -->
  <div class="container main-content">
    <h1 class="display-5 fw-bold mb-4">Teacher Dashboard</h1>
    <p class="lead mb-5">Manage resources, assignments, and quizzes.</p>

    <!-- Quick Stats Cards -->
    <div class="row mb-5" id="statsRow">
      <div class="col-md-3">
        <div class="card text-center bg-primary text-white">
          <div class="card-body">
            <h5>Total Resources</h5>
            <h3 id="totalResources">0</h3>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card text-center bg-success text-white">
          <div class="card-body">
            <h5>Active Assignments</h5>
            <h3 id="activeAssignments">0</h3>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card text-center bg-warning text-white">
          <div class="card-body">
            <h5>Total Quizzes</h5>
            <h3 id="totalQuizzes">0</h3>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card text-center bg-info text-white">
          <div class="card-body">
            <h5>Student Engagement</h5>
            <h3 id="studentEngagement">0%</h3>
          </div>
        </div>
      </div>
    </div>

    <!-- Sidebar Navigation and Content -->
    <div class="row">
      <div class="col-md-3">
        <div class="list-group sticky-top" style="top: 100px;">
          <a href="#upload" class="list-group-item list-group-item-action active">Upload Resource</a>
          <a href="#assignments" class="list-group-item list-group-item-action">Manage Assignments</a>
          <a href="#quizzes" class="list-group-item list-group-item-action">Manage Quizzes</a>
          <a href="#analytics" class="list-group-item list-group-item-action">Class Analytics</a>
        </div>
      </div>
      <div class="col-md-9">
        <!-- Upload Resource Section -->
        <section id="upload" class="mb-5">
          <h2 class="mb-4">Upload Resource</h2>
          <form id="teacherUploadForm">
        <div class="mb-3">
          <label class="form-label fw-bold">Resource Type</label>
          <select class="form-select" id="resourceType" required>
            <option value="">Choose type...</option>
            <option value="pdf">PDF Document</option>
            <option value="video">Video Lesson</option>
            <option value="image">Image / Diagram</option>
            <option value="document">Word / Notes</option>
            <option value="interactive">Interactive Link</option>
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label fw-bold">Subject</label>
          <select class="form-select" id="resourceSubject" required>
            <option value="">Select subject...</option>
            <option>Mathematics</option><option>Physics</option><option>Chemistry</option>
            <option>Biology</option><option>English</option><option>Kiswahili</option>
            <option>History</option><option>Geography</option><option>Computer Studies</option>
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label fw-bold">Title</label>
          <input type="text" class="form-control" id="resourceTitle" placeholder="e.g. Algebra Chapter 4 Notes" required>
        </div>

        <div class="mb-3">
          <label class="form-label fw-bold">Description (Optional)</label>
          <textarea class="form-control" id="resourceDescription" rows="3" placeholder="Brief description for students..."></textarea>
        </div>

        <div class="mb-3" id="fileUploadGroup">
          <label class="form-label fw-bold">Upload File(s)</label>
          <input type="file" class="form-control" id="resourceFiles" name="files" multiple 
                accept=".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif,.mp4,.avi,.mov">
          <div class="form-text">Max 50MB per file. Multiple files allowed.</div>
        </div>

        <div class="mb-3 d-none" id="linkUploadGroup">
          <label class="form-label fw-bold">Resource Link</label>
          <input type="url" class="form-control" id="resourceLink" placeholder="https://...">
          <div class="form-text">For YouTube, Google Drive links, or interactive tools</div>
        </div>

        <!-- Progress Bar for Uploads -->
        <div class="progress mb-3 d-none" id="uploadProgress">
          <div class="progress-bar" role="progressbar" style="width: 0%;"></div>
        </div>

        <div class="mb-3">
          <label class="form-label fw-bold">Tags (Optional)</label>
          <input type="text" class="form-control" id="resourceTags" placeholder="e.g. revision, exam, chapter4">
          <div class="form-text">Comma-separated for better search</div>
        </div>

        <div class="d-flex gap-2">
          <button type="submit" class="btn btn-primary flex-fill">
            <i class="fas fa-upload me-2"></i>Upload Resource
          </button>
          <button type="reset" class="btn btn-outline-secondary">
            <i class="fas fa-undo me-2"></i>Clear
          </button>
        </div>
      </form>
    </section>

    <!-- Manage Assignments Section -->
    <section id="assignments" class="mb-5">
      <h2 class="mb-4">Manage Assignments</h2>
      <div class="d-flex justify-content-between mb-3">
        <input type="text" class="form-control w-50" placeholder="Search..." id="assignmentsSearch">
        <button class="btn btn-primary" id="createAssignmentBtn">Create Assignment</button>
      </div>
      <div class="row g-4" id="assignmentsGrid">
        <!-- Assignments will be loaded dynamically here -->
      </div>
    </section>

    <!-- Manage Quizzes Section -->
    <section id="quizzes">
      <h2 class="mb-4">Manage Quizzes</h2>
      <div class="d-flex justify-content-between mb-3">
        <input type="text" class="form-control w-50" placeholder="Search..." id="quizzesSearch">
        <button class="btn btn-primary" id="createQuizBtn">Create Quiz</button>
      </div>
      <div class="row g-4" id="quizzesGrid">
        <!-- Quizzes will be loaded dynamically here -->
      </div>
    </section>

    <!-- Analytics Section -->
    <section id="analytics" class="mb-5">
      <h2 class="mb-4">Class Analytics</h2>
      <div class="row g-4" id="analyticsGrid">
        <!-- Analytics cards will be loaded dynamically here -->
      </div>
    </section>
  </div>

  <!-- Footer -->
  <div w3-include-html="/includes/footer.html"></div>

  <!-- Back to Top Button -->
  <button id="backToTop" class="btn btn-primary rounded-circle shadow position-fixed bottom-0 end-0 m-4" style="display:none; z-index:1000;">
    <i class="fas fa-arrow-up"></i>
  </button>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://www.w3schools.com/lib/w3.js"></script>
  <script>
  // Initialize W3.js includes explicitly to ensure header loads properly
  document.addEventListener('DOMContentLoaded', function() {
    w3.includeHTML();
  });
  </script>
  <script src="/js/e-learning/teacher-dashboard.js"></script>
</body>
</html>